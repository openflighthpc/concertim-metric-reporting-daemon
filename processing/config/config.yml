# Configuration for retrieving metrics from gmetad.
retrieval:
  # The IP address, or hostname, of the gmetad server to poll for metrics.
  ip: localhost

  # The port of the gmetad server to poll for metrics.
  port: 8651

  # The metrics are periodically retrieved from the gmetad source.  This is the
  # minimum duration to sleep between polls.
  #
  # A valid entry requires a number and unit, e.g., `60s` for sixty seconds or
  # `1h10m20s` for one hour ten minutes and twenty seconds.
  # Valid time units are “ns”, “us” (or “µs”), “ms”, “s”, “m”, “h”.
  sleep: 10s

  # If this values is given and is not an empty string, the ganglia XML will be
  # read from this file instead of polling the gmetad server.  In this case the
  # IP add port will be ignored.  Relative paths are relative to the working
  # directory of the running process.
  # testdata: "./testdata/ganglia-small.xml"

# Configuration for obtaining the data source map.
#
# The data source map specifies how to map from a ganglia identifier triplet,
# e.g., "unspecified/unspecified/node001" to a concertim device identifier,
# e.g., "hacor:device:2".
dsm:
  # The type of retriever to use for obtaining the data source map look up
  # table.  Either "file" or "script".
  #
  # If "file", "path" should be set to the path to a JSON file containing an
  # object with device names as the keys and the device's map to host as the
  # value, e.g.,
  #
  #   {"comp001": "comp001.concertim.alces-flight.com", ...}
  #
  # If "script" it should be set to the path of an executable script that
  # prints JSON to stdout in the same format as above.
  retriever: "file"

  # See "retriever" comment for what this means.
  path: "./config/dsm.json"

log_level: debug
